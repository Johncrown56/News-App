var __awaiter=this&&this.__awaiter||function(t,e,i,n){function o(t){return t instanceof i?t:new i((function(e){e(t)}))}return new(i||(i=Promise))((function(i,r){function s(t){try{h(n.next(t))}catch(e){r(e)}}function a(t){try{h(n["throw"](t))}catch(e){r(e)}}function h(t){t.done?i(t.value):o(t.value).then(s,a)}h((n=n.apply(t,e||[])).next())}))};var __generator=this&&this.__generator||function(t,e){var i={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},n,o,r,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(t){return function(e){return h([t,e])}}function h(s){if(n)throw new TypeError("Generator is already executing.");while(i)try{if(n=1,o&&(r=s[0]&2?o["return"]:s[0]?o["throw"]||((r=o["return"])&&r.call(o),0):o.next)&&!(r=r.call(o,s[1])).done)return r;if(o=0,r)s=[s[0]&2,r.value];switch(s[0]){case 0:case 1:r=s;break;case 4:i.label++;return{value:s[1],done:false};case 5:i.label++;o=s[1];s=[0];continue;case 7:s=i.ops.pop();i.trys.pop();continue;default:if(!(r=i.trys,r=r.length>0&&r[r.length-1])&&(s[0]===6||s[0]===2)){i=0;continue}if(s[0]===3&&(!r||s[1]>r[0]&&s[1]<r[3])){i.label=s[1];break}if(s[0]===6&&i.label<r[1]){i.label=r[1];r=s;break}if(r&&i.label<r[2]){i.label=r[2];i.ops.push(s);break}if(r[2])i.ops.pop();i.trys.pop();continue}s=e.call(t,i)}catch(a){s=[6,a];o=0}finally{n=r=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:true}}};System.register(["./p-008a6367.system.js","./p-a979f8c6.system.js"],(function(t){"use strict";var e,i,n,o,r,s,a,h,u,c,l,d;return{setters:[function(t){e=t.r;i=t.h;n=t.g;o=t.c;r=t.H;s=t.d},function(t){a=t.D;h=t.d;u=t.s;c=t.a;l=t.c;d=t.p}],execute:function(){var f=":host{height:var(--super-tab-height, 100%);position:relative;display:block;overflow-x:hidden;overflow-y:auto;contain:size style;z-index:1;-ms-flex-negative:0;flex-shrink:0;-ms-flex-positive:0;flex-grow:0;width:var(--super-tab-width, 100vw);-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-order:-1;order:-1;-webkit-user-select:none;-webkit-touch-callout:none;-webkit-text-size-adjust:none;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-font-smoothing:antialiased}:host[noScroll]{overflow-y:hidden}ion-nav,ion-content{height:100%;max-height:100%;position:absolute}ion-nav>.ion-page,ion-content>.ion-page{position:absolute}";var b=function(){function t(t){e(this,t)}t.prototype.componentDidLoad=function(){this.checkIonContent()};t.prototype.componentDidUpdate=function(){this.checkIonContent()};t.prototype.checkIonContent=function(){if(typeof this.noScroll!=="boolean"){var t=this.el.querySelector("ion-content");if(t&&t.parentElement===this.el){this.noScroll=true}}};t.prototype.getRootScrollableEl=function(){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(e){if(!this.noScroll&&this.el.scrollHeight>this.el.clientHeight){return[2,this.el]}t=this.el.querySelector("ion-content");if(t){return[2,t.getScrollElement()]}if(this.noScroll){return[2,null]}return[2,this.el]}))}))};t.prototype.render=function(){return i("slot",null)};Object.defineProperty(t.prototype,"el",{get:function(){return n(this)},enumerable:false,configurable:true});return t}();t("super_tab",b);b.style=f;var p=":host{height:100%;max-height:100%;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden;z-index:1;position:relative;contain:layout size style;-ms-flex-order:-1;order:-1;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-touch-callout:none;-webkit-text-size-adjust:none;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-font-smoothing:antialiased;-ms-touch-action:none;touch-action:none;-webkit-box-sizing:border-box;box-sizing:border-box;margin:0;padding:0}";var g=1e3;var v=function(){function t(t){var i=this;e(this,t);this.activeTabIndex=0;this._config=a;this.initAttempts=0;this.initPromise=new Promise((function(t){i.initPromiseResolve=t}));this.tabChange=o(this,"tabChange",7)}t.prototype.setConfig=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){this._config=Object.assign(Object.assign({},a),t);return[2]}))}))};t.prototype.propagateConfig=function(){this.container&&(this.container.config=this._config);this.toolbar&&(this.toolbar.config=this._config)};t.prototype.selectTab=function(t,e,i){if(e===void 0){e=true}if(i===void 0){i=true}return __awaiter(this,void 0,void 0,(function(){var n;return __generator(this,(function(o){switch(o.label){case 0:this.debug("selectTab",t,e);return[4,this.initPromise];case 1:o.sent();n=this.activeTabIndex;if(!this.container)return[3,3];return[4,this.container.setActiveTabIndex(t,true,e)];case 2:o.sent();o.label=3;case 3:if(!this.toolbar)return[3,5];return[4,this.toolbar.setActiveTab(t,true,e)];case 4:o.sent();o.label=5;case 5:if(i){this.emitTabChangeEvent(t,n)}this.activeTabIndex=n;return[2]}}))}))};t.prototype.onConfigChange=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:return[4,this.setConfig(t)];case 1:e.sent();return[2]}}))}))};t.prototype.onWindowResize=function(){this.debug("onWindowResize");this.toolbar&&this.toolbar.setSelectedTab(this.activeTabIndex);this.container.reindexTabs()};t.prototype.componentWillLoad=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:if(!this.config)return[3,2];return[4,this.setConfig(this.config)];case 1:t.sent();t.label=2;case 2:return[2]}}))}))};t.prototype.componentDidLoad=function(){var t=this;this.debug("componentDidLoad");this.indexChildren();if(this.container){this.container.setActiveTabIndex(this.activeTabIndex,true,false)}if(this.toolbar){this.toolbar.setActiveTab(this.activeTabIndex,true,false)}this.el.shadowRoot.addEventListener("slotchange",this.onSlotchange.bind(this));requestAnimationFrame((function(){t.initComponent()}))};t.prototype.initComponent=function(){var t=this;if(!this.container){if(++this.initAttempts<=g){requestAnimationFrame((function(){t.initComponent()}));return}else{this.debug("container still doesn't exists after "+g+" frames")}}if(this.container){this.container.setActiveTabIndex(this.activeTabIndex,true,false)}if(this.toolbar){this.toolbar.setActiveTab(this.activeTabIndex,true)}this.propagateConfig();this.setupEventListeners();this.initPromiseResolve()};t.prototype.setupEventListeners=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:if(!this.container)return[3,2];return[4,this.container.componentOnReady()];case 1:t.sent();this.el.addEventListener("selectedTabIndexChange",this.onContainerSelectedTabChange.bind(this));this.el.addEventListener("activeTabIndexChange",this.onContainerActiveTabChange.bind(this));return[3,3];case 2:this.debug("setupEventListeners: container does not exist");t.label=3;case 3:if(!this.toolbar)return[3,5];return[4,this.toolbar.componentOnReady()];case 4:t.sent();this.el.addEventListener("buttonClick",this.onToolbarButtonClick.bind(this));return[3,6];case 5:this.debug("setupEventListeners: toolbar does not exist");t.label=6;case 6:return[2]}}))}))};t.prototype.onContainerSelectedTabChange=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:this.debug("onContainerSelectedTabChange called with: ",t);if(!this.toolbar)return[3,2];return[4,this.toolbar.setSelectedTab(t.detail)];case 1:e.sent();e.label=2;case 2:return[2]}}))}))};t.prototype.emitTabChangeEvent=function(t,e){if(typeof t!=="number"||t<0){return}if(typeof e!=="number"||e<0){e=this.activeTabIndex}this.tabChange.emit({changed:t!==e,index:t})};t.prototype.onContainerActiveTabChange=function(t){this.debug("onContainerActiveTabChange",t);var e=t.detail;this.emitTabChangeEvent(e);this.activeTabIndex=e;this.toolbar&&this.toolbar.setActiveTab(e,true,true)};t.prototype.onToolbarButtonClick=function(t){this.debug("onToolbarButtonClick",t);var e=t.detail.index;this.container&&this.container.setActiveTabIndex(e,true,true);this.emitTabChangeEvent(e);this.activeTabIndex=e};t.prototype.indexChildren=function(){this.debug("indexChildren");var t=this.el.querySelector("super-tabs-container");var e=this.el.querySelector("super-tabs-toolbar");if(t&&this.container!==t){this.container=t}if(e&&this.toolbar!==e){this.toolbar=e}this.propagateConfig()};t.prototype.onSlotchange=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){this.indexChildren();this.selectTab(this.activeTabIndex,true,false);return[2]}))}))};t.prototype.debug=function(){var t=[];for(var e=0;e<arguments.length;e++){t[e]=arguments[e]}h(this._config,"tabs",t)};t.prototype.render=function(){return i(r,null,i("slot",{name:"top"}),i("slot",null),i("slot",{name:"bottom"}))};Object.defineProperty(t.prototype,"el",{get:function(){return n(this)},enumerable:false,configurable:true});Object.defineProperty(t,"watchers",{get:function(){return{config:["onConfigChange"]}},enumerable:false,configurable:true});return t}();t("super_tabs",v);v.style=p;var x=":host{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;min-width:100%;-ms-flex:1 1 auto;flex:1 1 auto;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;width:var(--super-tab-width, 100vw);height:var(--super-tab-height, 100%);overflow:hidden;-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);-ms-touch-action:pan-y;touch-action:pan-y;-moz-user-select:none;-ms-user-select:none;user-select:none;will-change:scroll-position;-ms-flex-order:-1;order:-1;-webkit-user-select:none;-webkit-touch-callout:none;-webkit-text-size-adjust:none;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-font-smoothing:antialiased}";var m=function(){function t(t){e(this,t);this.swipeEnabled=true;this.autoScrollTop=false;this.tabs=[];this.isDragging=false;this.leftThreshold=0;this.rightThreshold=0;this.scrollWidth=0;this.width=0;this.activeTabIndexChange=o(this,"activeTabIndexChange",7);this.selectedTabIndexChange=o(this,"selectedTabIndexChange",7);this.queue=s(this,"queue")}t.prototype.componentDidLoad=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:this.debug("componentDidLoad");this.updateWidth();return[4,this.indexTabs()];case 1:t.sent();this.slot=this.el.shadowRoot.querySelector("slot");this.slot.addEventListener("slotchange",this.onSlotChange.bind(this));return[2]}}))}))};t.prototype.onSlotChange=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){this.debug("onSlotChange",this.tabs.length);this.updateWidth();this.indexTabs();return[2]}))}))};t.prototype.componentDidRender=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){this.updateWidth();return[2]}))}))};t.prototype.reindexTabs=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:this.updateWidth();return[4,this.indexTabs()];case 1:t.sent();return[2]}}))}))};t.prototype.moveContainerByIndex=function(t,e){var i=this.indexToPosition(t);if(i===0&&t>0){return Promise.resolve()}return this.moveContainer(i,e)};t.prototype.moveContainer=function(t,e){if(e){u(this.el,t,0,this.config.nativeSmoothScroll,this.config.transitionDuration)}else{this.el.scroll(t,0)}return Promise.resolve()};t.prototype.setActiveTabIndex=function(t,e,i){if(e===void 0){e=true}if(i===void 0){i=true}return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(n){this.debug("setActiveTabIndex",t);if(this._activeTabIndex===t){if(!this.autoScrollTop){return[2]}this.scrollToTop()}if(e){this.moveContainerByIndex(t,i)}this.updateActiveTabIndex(t,false);return[2]}))}))};t.prototype.scrollToTop=function(){return __awaiter(this,void 0,void 0,(function(){var t,e;return __generator(this,(function(i){switch(i.label){case 0:if(this._activeTabIndex===undefined||this.tabs===undefined){this.debug("scrollToTop","activeTabIndex or tabs was undefined",this._activeTabIndex,this.tabs);return[2]}t=this.tabs[this._activeTabIndex];if(!t){this.debug("Current active tab was undefined in scrollToTop");return[2]}return[4,t.getRootScrollableEl()];case 1:e=i.sent();if(e){u(e,0,0,this.config.nativeSmoothScroll,this.config.transitionDuration)}else{this.debug("scrollToTop","couldnt find a scrollable element")}return[2]}}))}))};t.prototype.updateActiveTabIndex=function(t,e){if(e===void 0){e=true}this.debug("updateActiveTabIndex",t,e,this._activeTabIndex);this._activeTabIndex=t;e&&this.activeTabIndexChange.emit(this._activeTabIndex)};t.prototype.updateSelectedTabIndex=function(t){if(t===this._selectedTabIndex){return}this._selectedTabIndex=t;this.selectedTabIndexChange.emit(this._selectedTabIndex)};t.prototype.onTouchStart=function(t){return __awaiter(this,void 0,void 0,(function(){var e,i,n,o;return __generator(this,(function(r){if(!this.swipeEnabled){return[2]}if(this.config.avoidElements){e=false;i=t.target;if(i){do{if(typeof i.getAttribute==="function"&&i.getAttribute("avoid-super-tabs")){return[2]}i=i.parentElement}while(i&&!e)}}n=d(t);this.updateWidth();o=this.width;if(n.x<this.leftThreshold||n.x>o-this.rightThreshold){return[2]}if(this.config.shortSwipeDuration>0){this.initialTimestamp=c()}this.initialCoords=n;this.lastPosX=n.x;return[2]}))}))};t.prototype.onClick=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){if(this.isDragging){t.stopImmediatePropagation();t.preventDefault()}return[2]}))}))};t.prototype.onTouchMove=function(t){return __awaiter(this,void 0,void 0,(function(){var e,i,n,o;return __generator(this,(function(r){if(!this.swipeEnabled||!this.initialCoords||typeof this.lastPosX!=="number"){return[2]}e=d(t);if(!this.isDragging){if(!l(e,this.initialCoords,this.config)){if(Math.abs(e.y-this.initialCoords.y)>100){this.initialCoords=void 0;this.lastPosX=void 0}return[2]}this.isDragging=true}if(!this.config.allowElementScroll){t.stopImmediatePropagation()}i=this.lastPosX-e.x;if(i===0){return[2]}n=Math.max(0,Math.min(this.scrollWidth-this.width,this.el.scrollLeft+i));if(Math.floor(n)===Math.floor(this.el.scrollLeft)){return[2]}o=Math.round(this.positionToIndex(n)*100)/100;this.updateSelectedTabIndex(o);this.lastPosX=e.x;this.el.scroll(n,0);return[2]}))}))};t.prototype.onTouchEnd=function(t){return __awaiter(this,void 0,void 0,(function(){var e,i,n,o,r,s;return __generator(this,(function(a){if(!this.swipeEnabled||!this.isDragging){return[2]}e=d(t);i=c()-this.initialTimestamp;n=this.config.shortSwipeDuration>0&&i<=this.config.shortSwipeDuration;o=e.x-this.initialCoords.x;r=this.calcSelectedTab();s=Math.round(r);if(n&&s===this._activeTabIndex){r+=o>0?-1:1}r=this.normalizeSelectedTab(r);this.updateActiveTabIndex(r);this.moveContainerByIndex(r,true);this.isDragging=false;this.initialCoords=void 0;this.lastPosX=void 0;return[2]}))}))};t.prototype.updateWidth=function(){var t=this.el.getBoundingClientRect();this.width=Math.round(t.width*1e4)/1e4};t.prototype.indexTabs=function(){return __awaiter(this,void 0,void 0,(function(){var t;var e=this;return __generator(this,(function(i){switch(i.label){case 0:if(this.width===0){requestAnimationFrame((function(){e.updateWidth();e.indexTabs()}));return[2]}t=Array.from(this.el.querySelectorAll("super-tab"));this.scrollWidth=this.width*t.length;this.debug("indexTab",this.scrollWidth,this.width);return[4,Promise.all(t.map((function(t){return t.componentOnReady()})))];case 1:i.sent();this.tabs=t;if(this.ready&&typeof this._activeTabIndex==="number"){this.moveContainerByIndex(this._activeTabIndex,true)}if(this.config){switch(this.config.sideMenu){case"both":this.rightThreshold=this.leftThreshold=this.config.sideMenuThreshold||0;break;case"left":this.leftThreshold=this.config.sideMenuThreshold||0;break;case"right":this.rightThreshold=this.config.sideMenuThreshold||0;break}}if(this._activeTabIndex!==undefined){this.moveContainerByIndex(this._activeTabIndex,false).then((function(){e.ready=true}))}return[2]}}))}))};t.prototype.calcSelectedTab=function(){var t=Math.max(0,Math.min(this.scrollWidth-this.width,this.el.scrollLeft));return this.positionToIndex(t)};t.prototype.positionToIndex=function(t){var e=this.width;return t/e};t.prototype.indexToPosition=function(t){return Math.round(t*this.width*1e4)/1e4};t.prototype.normalizeSelectedTab=function(t){var e=Math.max(0,Math.min(this.scrollWidth-this.width,this.indexToPosition(t)));return Math.round(e/this.width)};t.prototype.debug=function(){var t=[];for(var e=0;e<arguments.length;e++){t[e]=arguments[e]}h(this.config,"container",t)};t.prototype.render=function(){return i("slot",null)};Object.defineProperty(t.prototype,"el",{get:function(){return n(this)},enumerable:false,configurable:true});return t}();t("super_tabs_container",m);m.style=x}}}));